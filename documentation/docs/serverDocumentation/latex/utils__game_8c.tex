\doxysection{/home/arthur/\+Tek2/\+Project/\+Zappy/server/src/game/utils\+\_\+game.c File Reference}
\hypertarget{utils__game_8c}{}\label{utils__game_8c}\index{/home/arthur/Tek2/Project/Zappy/server/src/game/utils\_game.c@{/home/arthur/Tek2/Project/Zappy/server/src/game/utils\_game.c}}
{\ttfamily \#include "{}server.\+h"{}}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
Include dependency graph for utils\+\_\+game.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{utils__game_8c__incl}
\end{center}
\end{figure}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{utils__game_8c_aafb4579f324169ede130ca0da3e70d5b}{sleep\+\_\+time}} (\mbox{\hyperlink{server_8h_a0d46b4d18005bd6a95dddba0e65bddf6}{server\+\_\+t}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{server_8c_ab140ac62eb02ac9134b3120c0a6829e6}{server}})
\begin{DoxyCompactList}\small\item\em Sleep for a short duration if the request queue is empty. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{utils__game_8c_a41cd4c6092ef2f4156834b1edd5e6751}{is\+\_\+client\+\_\+on\+\_\+cd}} (\mbox{\hyperlink{server_8h_a21bca4ad2bc83c2b3f0fe45dce419625}{client\+\_\+data\+\_\+t}} \texorpdfstring{$\ast$}{*}client\+\_\+data)
\begin{DoxyCompactList}\small\item\em Check if a client is currently on cooldown. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{utils__game_8c_a6d24233f6f6df2e9ecf09efaa8e69c3a}{check\+\_\+if\+\_\+queue\+\_\+is\+\_\+full}} (\mbox{\hyperlink{server_8h_a0d46b4d18005bd6a95dddba0e65bddf6}{server\+\_\+t}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{server_8c_ab140ac62eb02ac9134b3120c0a6829e6}{server}}, \mbox{\hyperlink{server_8h_a0a742c24c6cf5a8824f8b0399778b0f4}{response\+\_\+t}} \texorpdfstring{$\ast$}{*}response)
\begin{DoxyCompactList}\small\item\em Add a response to the queue and check for errors. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{utils__game_8c_ad0c7da003825df8caa14413971aaaaa4}{cleanup\+\_\+pending\+\_\+response}} (\mbox{\hyperlink{server_8h_a0a742c24c6cf5a8824f8b0399778b0f4}{response\+\_\+t}} \texorpdfstring{$\ast$}{*}pending)
\begin{DoxyCompactList}\small\item\em Clean up and free a pending response structure. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{utils__game_8c_ac8dea555a4d4cf0b0d34fd83f9fe2c2f}{copy\+\_\+response\+\_\+data}} (\mbox{\hyperlink{server_8h_a0a742c24c6cf5a8824f8b0399778b0f4}{response\+\_\+t}} \texorpdfstring{$\ast$}{*}dest, \mbox{\hyperlink{server_8h_a0a742c24c6cf5a8824f8b0399778b0f4}{response\+\_\+t}} \texorpdfstring{$\ast$}{*}src, int count)
\begin{DoxyCompactList}\small\item\em Copy response data from source to destination structure. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\Hypertarget{utils__game_8c_a6d24233f6f6df2e9ecf09efaa8e69c3a}\label{utils__game_8c_a6d24233f6f6df2e9ecf09efaa8e69c3a} 
\index{utils\_game.c@{utils\_game.c}!check\_if\_queue\_is\_full@{check\_if\_queue\_is\_full}}
\index{check\_if\_queue\_is\_full@{check\_if\_queue\_is\_full}!utils\_game.c@{utils\_game.c}}
\doxysubsubsection{\texorpdfstring{check\_if\_queue\_is\_full()}{check\_if\_queue\_is\_full()}}
{\footnotesize\ttfamily void check\+\_\+if\+\_\+queue\+\_\+is\+\_\+full (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{server_8h_a0d46b4d18005bd6a95dddba0e65bddf6}{server\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{server,  }\item[{\mbox{\hyperlink{server_8h_a0a742c24c6cf5a8824f8b0399778b0f4}{response\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{response }\end{DoxyParamCaption})}



Add a response to the queue and check for errors. 

Check if response queue is full and handle overflow.

This function attempts to add a response to the server\textquotesingle{}s response queue and prints an error message if the queue is full.


\begin{DoxyParams}{Parameters}
{\em server} & Pointer to the server structure \\
\hline
{\em response} & Pointer to the response to be added \\
\hline
\end{DoxyParams}
\Hypertarget{utils__game_8c_ad0c7da003825df8caa14413971aaaaa4}\label{utils__game_8c_ad0c7da003825df8caa14413971aaaaa4} 
\index{utils\_game.c@{utils\_game.c}!cleanup\_pending\_response@{cleanup\_pending\_response}}
\index{cleanup\_pending\_response@{cleanup\_pending\_response}!utils\_game.c@{utils\_game.c}}
\doxysubsubsection{\texorpdfstring{cleanup\_pending\_response()}{cleanup\_pending\_response()}}
{\footnotesize\ttfamily int cleanup\+\_\+pending\+\_\+response (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{server_8h_a0a742c24c6cf5a8824f8b0399778b0f4}{response\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{pending }\end{DoxyParamCaption})}



Clean up and free a pending response structure. 

Cleanup pending response structure.

This function safely cleans up a pending response by freeing all allocated memory and resetting the structure fields to safe values.


\begin{DoxyParams}{Parameters}
{\em pending} & Pointer to the response structure to clean up \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
SUCCESS on successful cleanup, ERROR on failure 
\end{DoxyReturn}
\Hypertarget{utils__game_8c_ac8dea555a4d4cf0b0d34fd83f9fe2c2f}\label{utils__game_8c_ac8dea555a4d4cf0b0d34fd83f9fe2c2f} 
\index{utils\_game.c@{utils\_game.c}!copy\_response\_data@{copy\_response\_data}}
\index{copy\_response\_data@{copy\_response\_data}!utils\_game.c@{utils\_game.c}}
\doxysubsubsection{\texorpdfstring{copy\_response\_data()}{copy\_response\_data()}}
{\footnotesize\ttfamily int copy\+\_\+response\+\_\+data (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{server_8h_a0a742c24c6cf5a8824f8b0399778b0f4}{response\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{dest,  }\item[{\mbox{\hyperlink{server_8h_a0a742c24c6cf5a8824f8b0399778b0f4}{response\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{src,  }\item[{int}]{count }\end{DoxyParamCaption})}



Copy response data from source to destination structure. 

Copy response data between structures.

This function creates a deep copy of response data from the source response structure to the destination, allocating memory as needed.


\begin{DoxyParams}{Parameters}
{\em dest} & Pointer to the destination response structure \\
\hline
{\em src} & Pointer to the source response structure \\
\hline
{\em count} & Number of responses to copy \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
SUCCESS on successful copy, ERROR on failure 
\end{DoxyReturn}
\Hypertarget{utils__game_8c_a41cd4c6092ef2f4156834b1edd5e6751}\label{utils__game_8c_a41cd4c6092ef2f4156834b1edd5e6751} 
\index{utils\_game.c@{utils\_game.c}!is\_client\_on\_cd@{is\_client\_on\_cd}}
\index{is\_client\_on\_cd@{is\_client\_on\_cd}!utils\_game.c@{utils\_game.c}}
\doxysubsubsection{\texorpdfstring{is\_client\_on\_cd()}{is\_client\_on\_cd()}}
{\footnotesize\ttfamily int is\+\_\+client\+\_\+on\+\_\+cd (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{server_8h_a21bca4ad2bc83c2b3f0fe45dce419625}{client\+\_\+data\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{client\+\_\+data }\end{DoxyParamCaption})}



Check if a client is currently on cooldown. 

Check if client is on cooldown for actions.

This function verifies if a client is still on cooldown by comparing the current time with the client\textquotesingle{}s action end time.


\begin{DoxyParams}{Parameters}
{\em client\+\_\+data} & Pointer to the client data structure \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
SUCCESS if client is on cooldown, ERROR otherwise 
\end{DoxyReturn}
\Hypertarget{utils__game_8c_aafb4579f324169ede130ca0da3e70d5b}\label{utils__game_8c_aafb4579f324169ede130ca0da3e70d5b} 
\index{utils\_game.c@{utils\_game.c}!sleep\_time@{sleep\_time}}
\index{sleep\_time@{sleep\_time}!utils\_game.c@{utils\_game.c}}
\doxysubsubsection{\texorpdfstring{sleep\_time()}{sleep\_time()}}
{\footnotesize\ttfamily void sleep\+\_\+time (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{server_8h_a0d46b4d18005bd6a95dddba0e65bddf6}{server\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{server }\end{DoxyParamCaption})}



Sleep for a short duration if the request queue is empty. 

Sleep for appropriate time based on server frequency.

This function checks if the server\textquotesingle{}s request queue is empty and makes the server sleep for 10 microseconds to avoid busy waiting.


\begin{DoxyParams}{Parameters}
{\em server} & Pointer to the server structure \\
\hline
\end{DoxyParams}
