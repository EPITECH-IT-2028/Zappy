\doxysection{/home/arthur/\+Tek2/\+Project/\+Zappy/server/src/game/set.c File Reference}
\hypertarget{set_8c}{}\label{set_8c}\index{/home/arthur/Tek2/Project/Zappy/server/src/game/set.c@{/home/arthur/Tek2/Project/Zappy/server/src/game/set.c}}
{\ttfamily \#include "{}macro.\+h"{}}\newline
{\ttfamily \#include "{}server.\+h"{}}\newline
{\ttfamily \#include "{}utils.\+h"{}}\newline
{\ttfamily \#include $<$stdint.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
Include dependency graph for set.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{set_8c__incl}
\end{center}
\end{figure}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{set_8c_a822272d7793512b32b64cdf3f48c710a}{increment\+\_\+resource\+\_\+density}} (\mbox{\hyperlink{server_8h_a0d46b4d18005bd6a95dddba0e65bddf6}{server\+\_\+t}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{server_8c_ab140ac62eb02ac9134b3120c0a6829e6}{server}}, int type)
\begin{DoxyCompactList}\small\item\em Updates the server\textquotesingle{}s resource density counters when a resource is added to the map. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{set_8c_a76c16f9aa7f7c16decc47df1b450c669}{decrement\+\_\+resource\+\_\+density}} (\mbox{\hyperlink{server_8h_a0d46b4d18005bd6a95dddba0e65bddf6}{server\+\_\+t}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{server_8c_ab140ac62eb02ac9134b3120c0a6829e6}{server}}, int type)
\begin{DoxyCompactList}\small\item\em Updates the server\textquotesingle{}s resource density counters when a resource is removed from the map. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{set_8c_a5e8e3cff9ed805f0ce8961804ca6bc6f}{remove\+\_\+or\+\_\+add\+\_\+ressource}} (\mbox{\hyperlink{server_8h_a0d46b4d18005bd6a95dddba0e65bddf6}{server\+\_\+t}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{server_8c_ab140ac62eb02ac9134b3120c0a6829e6}{server}}, \mbox{\hyperlink{server_8h_a862c07701d5753438e68dad515a0c1e4}{ressources\+\_\+t}} \texorpdfstring{$\ast$}{*}resources, bool from\+\_\+inv\+\_\+to\+\_\+map, uint8\+\_\+t idx\+\_\+resource)
\begin{DoxyCompactList}\small\item\em Handles resource transfer between inventory and map. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{set_8c_ab4a00a8e5c53e11b3149401e85c4d7e0}{check\+\_\+ressource\+\_\+update}} (\mbox{\hyperlink{server_8h_a0d46b4d18005bd6a95dddba0e65bddf6}{server\+\_\+t}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{server_8c_ab140ac62eb02ac9134b3120c0a6829e6}{server}}, \mbox{\hyperlink{server_8h_a2fc1b64f51f8225195d32592e6fe8fc5}{request\+\_\+t}} \texorpdfstring{$\ast$}{*}request, \mbox{\hyperlink{server_8h_a21bca4ad2bc83c2b3f0fe45dce419625}{client\+\_\+data\+\_\+t}} \texorpdfstring{$\ast$}{*}client, bool from\+\_\+inv\+\_\+to\+\_\+map)
\begin{DoxyCompactList}\small\item\em Processes and validates a resource transfer request. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{set_8c_afa952a3719d869dad0aa315567a59633}{handle\+\_\+set}} (\mbox{\hyperlink{server_8h_a0d46b4d18005bd6a95dddba0e65bddf6}{server\+\_\+t}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{server_8c_ab140ac62eb02ac9134b3120c0a6829e6}{server}}, \mbox{\hyperlink{server_8h_a0a742c24c6cf5a8824f8b0399778b0f4}{response\+\_\+t}} \texorpdfstring{$\ast$}{*}response, \mbox{\hyperlink{server_8h_a2fc1b64f51f8225195d32592e6fe8fc5}{request\+\_\+t}} \texorpdfstring{$\ast$}{*}request)
\begin{DoxyCompactList}\small\item\em Handles the "{}\+Set"{} command for placing resources on the map. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\Hypertarget{set_8c_ab4a00a8e5c53e11b3149401e85c4d7e0}\label{set_8c_ab4a00a8e5c53e11b3149401e85c4d7e0} 
\index{set.c@{set.c}!check\_ressource\_update@{check\_ressource\_update}}
\index{check\_ressource\_update@{check\_ressource\_update}!set.c@{set.c}}
\doxysubsubsection{\texorpdfstring{check\_ressource\_update()}{check\_ressource\_update()}}
{\footnotesize\ttfamily int check\+\_\+ressource\+\_\+update (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{server_8h_a0d46b4d18005bd6a95dddba0e65bddf6}{server\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{server,  }\item[{\mbox{\hyperlink{server_8h_a2fc1b64f51f8225195d32592e6fe8fc5}{request\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{request,  }\item[{\mbox{\hyperlink{server_8h_a21bca4ad2bc83c2b3f0fe45dce419625}{client\+\_\+data\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{client,  }\item[{bool}]{from\+\_\+inv\+\_\+to\+\_\+map }\end{DoxyParamCaption})}



Processes and validates a resource transfer request. 

Check and update resource between inventory and map.

This function parses a client\textquotesingle{}s command to extract the resource name, validates the request, and performs the actual resource transfer operation between inventory and map.


\begin{DoxyParams}{Parameters}
{\em server} & Pointer to the server structure \\
\hline
{\em request} & Pointer to the client\textquotesingle{}s request \\
\hline
{\em client} & Pointer to the client data \\
\hline
{\em from\+\_\+inv\+\_\+to\+\_\+map} & True for set command, false for take command \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Resource ID if successful, ERROR otherwise 
\end{DoxyReturn}
\Hypertarget{set_8c_a76c16f9aa7f7c16decc47df1b450c669}\label{set_8c_a76c16f9aa7f7c16decc47df1b450c669} 
\index{set.c@{set.c}!decrement\_resource\_density@{decrement\_resource\_density}}
\index{decrement\_resource\_density@{decrement\_resource\_density}!set.c@{set.c}}
\doxysubsubsection{\texorpdfstring{decrement\_resource\_density()}{decrement\_resource\_density()}}
{\footnotesize\ttfamily void decrement\+\_\+resource\+\_\+density (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{server_8h_a0d46b4d18005bd6a95dddba0e65bddf6}{server\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{server,  }\item[{int}]{type }\end{DoxyParamCaption})}



Updates the server\textquotesingle{}s resource density counters when a resource is removed from the map. 

Decrement resource density counter.

This function decrements the density counter for a specific resource type when that resource is taken from the game map.


\begin{DoxyParams}{Parameters}
{\em server} & Pointer to the server structure \\
\hline
{\em type} & Resource type index (0-\/6) \\
\hline
\end{DoxyParams}
\Hypertarget{set_8c_afa952a3719d869dad0aa315567a59633}\label{set_8c_afa952a3719d869dad0aa315567a59633} 
\index{set.c@{set.c}!handle\_set@{handle\_set}}
\index{handle\_set@{handle\_set}!set.c@{set.c}}
\doxysubsubsection{\texorpdfstring{handle\_set()}{handle\_set()}}
{\footnotesize\ttfamily int handle\+\_\+set (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{server_8h_a0d46b4d18005bd6a95dddba0e65bddf6}{server\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{server,  }\item[{\mbox{\hyperlink{server_8h_a0a742c24c6cf5a8824f8b0399778b0f4}{response\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{response,  }\item[{\mbox{\hyperlink{server_8h_a2fc1b64f51f8225195d32592e6fe8fc5}{request\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{request }\end{DoxyParamCaption})}



Handles the "{}\+Set"{} command for placing resources on the map. 

Handle set command from AI player.

This function processes a client\textquotesingle{}s request to place a resource from their inventory onto the current map tile. It validates the operation, updates the game state, and sends appropriate notifications.


\begin{DoxyParams}{Parameters}
{\em server} & Pointer to the server structure \\
\hline
{\em response} & Pointer to response structure to fill with result \\
\hline
{\em request} & Pointer to the client\textquotesingle{}s set request \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
SUCCESS if resource was placed successfully, ERROR otherwise 
\end{DoxyReturn}
\Hypertarget{set_8c_a822272d7793512b32b64cdf3f48c710a}\label{set_8c_a822272d7793512b32b64cdf3f48c710a} 
\index{set.c@{set.c}!increment\_resource\_density@{increment\_resource\_density}}
\index{increment\_resource\_density@{increment\_resource\_density}!set.c@{set.c}}
\doxysubsubsection{\texorpdfstring{increment\_resource\_density()}{increment\_resource\_density()}}
{\footnotesize\ttfamily void increment\+\_\+resource\+\_\+density (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{server_8h_a0d46b4d18005bd6a95dddba0e65bddf6}{server\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{server,  }\item[{int}]{type }\end{DoxyParamCaption})}



Updates the server\textquotesingle{}s resource density counters when a resource is added to the map. 

Increment resource density counter.

This function increments the density counter for a specific resource type when that resource is placed on the game map.


\begin{DoxyParams}{Parameters}
{\em server} & Pointer to the server structure \\
\hline
{\em type} & Resource type index (0-\/6) \\
\hline
\end{DoxyParams}
\Hypertarget{set_8c_a5e8e3cff9ed805f0ce8961804ca6bc6f}\label{set_8c_a5e8e3cff9ed805f0ce8961804ca6bc6f} 
\index{set.c@{set.c}!remove\_or\_add\_ressource@{remove\_or\_add\_ressource}}
\index{remove\_or\_add\_ressource@{remove\_or\_add\_ressource}!set.c@{set.c}}
\doxysubsubsection{\texorpdfstring{remove\_or\_add\_ressource()}{remove\_or\_add\_ressource()}}
{\footnotesize\ttfamily int remove\+\_\+or\+\_\+add\+\_\+ressource (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{server_8h_a0d46b4d18005bd6a95dddba0e65bddf6}{server\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{server,  }\item[{\mbox{\hyperlink{server_8h_a862c07701d5753438e68dad515a0c1e4}{ressources\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{resources,  }\item[{bool}]{from\+\_\+inv\+\_\+to\+\_\+map,  }\item[{uint8\+\_\+t}]{idx\+\_\+resource }\end{DoxyParamCaption})}



Handles resource transfer between inventory and map. 

This function manages the transfer of resources either from a client\textquotesingle{}s inventory to the map (set operation) or from the map to inventory (take operation). It updates both locations and density counters.


\begin{DoxyParams}{Parameters}
{\em server} & Pointer to the server structure \\
\hline
{\em resources} & Array of resource structures containing pointers \\
\hline
{\em from\+\_\+inv\+\_\+to\+\_\+map} & True for set operation, false for take operation \\
\hline
{\em idx\+\_\+resource} & Index of the resource type to transfer \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
SUCCESS if transfer completed, ERROR otherwise 
\end{DoxyReturn}
