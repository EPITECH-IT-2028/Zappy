\doxysection{/home/arthur/\+Tek2/\+Project/\+Zappy/server/src/game/timer\+\_\+handling.c File Reference}
\hypertarget{timer__handling_8c}{}\label{timer__handling_8c}\index{/home/arthur/Tek2/Project/Zappy/server/src/game/timer\_handling.c@{/home/arthur/Tek2/Project/Zappy/server/src/game/timer\_handling.c}}
{\ttfamily \#include "{}macro.\+h"{}}\newline
{\ttfamily \#include "{}server.\+h"{}}\newline
{\ttfamily \#include $<$time.\+h$>$}\newline
Include dependency graph for timer\+\_\+handling.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timer__handling_8c__incl}
\end{center}
\end{figure}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
struct timespec \mbox{\hyperlink{timer__handling_8c_a0bb4a72798ede786f82aefeab657d2e1}{get\+\_\+action\+\_\+end\+\_\+time}} (\mbox{\hyperlink{server_8h_a0d46b4d18005bd6a95dddba0e65bddf6}{server\+\_\+t}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{server_8c_ab140ac62eb02ac9134b3120c0a6829e6}{server}}, int action\+\_\+duration)
\begin{DoxyCompactList}\small\item\em Calculates the end time for an action based on its duration. \end{DoxyCompactList}\item 
long long \mbox{\hyperlink{timer__handling_8c_a11940ef69e5a079d4f817c9b102bb966}{get\+\_\+current\+\_\+timer\+\_\+units}} (\mbox{\hyperlink{server_8h_a0d46b4d18005bd6a95dddba0e65bddf6}{server\+\_\+t}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{server_8c_ab140ac62eb02ac9134b3120c0a6829e6}{server}}, struct timespec \texorpdfstring{$\ast$}{*}timer)
\begin{DoxyCompactList}\small\item\em Converts elapsed real time to game timer units. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{timer__handling_8c_ab74c30b99cde138ba98da528968511c0}{has\+\_\+time\+\_\+passed}} (\mbox{\hyperlink{server_8h_a0d46b4d18005bd6a95dddba0e65bddf6}{server\+\_\+t}} \texorpdfstring{$\ast$}{*}\mbox{\hyperlink{server_8c_ab140ac62eb02ac9134b3120c0a6829e6}{server}}, long long start\+\_\+timer\+\_\+units, int duration, struct timespec \texorpdfstring{$\ast$}{*}timer)
\begin{DoxyCompactList}\small\item\em Checks if a specified duration has elapsed since a timer started. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\Hypertarget{timer__handling_8c_a0bb4a72798ede786f82aefeab657d2e1}\label{timer__handling_8c_a0bb4a72798ede786f82aefeab657d2e1} 
\index{timer\_handling.c@{timer\_handling.c}!get\_action\_end\_time@{get\_action\_end\_time}}
\index{get\_action\_end\_time@{get\_action\_end\_time}!timer\_handling.c@{timer\_handling.c}}
\doxysubsubsection{\texorpdfstring{get\_action\_end\_time()}{get\_action\_end\_time()}}
{\footnotesize\ttfamily struct timespec get\+\_\+action\+\_\+end\+\_\+time (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{server_8h_a0d46b4d18005bd6a95dddba0e65bddf6}{server\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{server,  }\item[{int}]{action\+\_\+duration }\end{DoxyParamCaption})}



Calculates the end time for an action based on its duration. 

Calculate action end time based on duration.

This function determines when an action should complete by adding the action\textquotesingle{}s duration (converted to real time) to the current time. It uses the server frequency to convert game time to real time.


\begin{DoxyParams}{Parameters}
{\em server} & Pointer to the server structure for frequency info \\
\hline
{\em action\+\_\+duration} & Duration of the action in game time units \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
timespec structure representing when the action will end 
\end{DoxyReturn}
\Hypertarget{timer__handling_8c_a11940ef69e5a079d4f817c9b102bb966}\label{timer__handling_8c_a11940ef69e5a079d4f817c9b102bb966} 
\index{timer\_handling.c@{timer\_handling.c}!get\_current\_timer\_units@{get\_current\_timer\_units}}
\index{get\_current\_timer\_units@{get\_current\_timer\_units}!timer\_handling.c@{timer\_handling.c}}
\doxysubsubsection{\texorpdfstring{get\_current\_timer\_units()}{get\_current\_timer\_units()}}
{\footnotesize\ttfamily long long get\+\_\+current\+\_\+timer\+\_\+units (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{server_8h_a0d46b4d18005bd6a95dddba0e65bddf6}{server\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{server,  }\item[{struct timespec \texorpdfstring{$\ast$}{*}}]{timer }\end{DoxyParamCaption})}



Converts elapsed real time to game timer units. 

Get current timer units for synchronization.

This function calculates how many game time units have passed since a reference timer was set. It uses the server frequency to convert real elapsed time into game time units.


\begin{DoxyParams}{Parameters}
{\em server} & Pointer to the server structure for frequency info \\
\hline
{\em timer} & Pointer to the reference timespec timer \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Number of game time units elapsed since the timer was set 
\end{DoxyReturn}
\Hypertarget{timer__handling_8c_ab74c30b99cde138ba98da528968511c0}\label{timer__handling_8c_ab74c30b99cde138ba98da528968511c0} 
\index{timer\_handling.c@{timer\_handling.c}!has\_time\_passed@{has\_time\_passed}}
\index{has\_time\_passed@{has\_time\_passed}!timer\_handling.c@{timer\_handling.c}}
\doxysubsubsection{\texorpdfstring{has\_time\_passed()}{has\_time\_passed()}}
{\footnotesize\ttfamily bool has\+\_\+time\+\_\+passed (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{server_8h_a0d46b4d18005bd6a95dddba0e65bddf6}{server\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{server,  }\item[{long long}]{start\+\_\+timer\+\_\+units,  }\item[{int}]{duration,  }\item[{struct timespec \texorpdfstring{$\ast$}{*}}]{timer }\end{DoxyParamCaption})}



Checks if a specified duration has elapsed since a timer started. 

Check if specified time duration has passed.

This function determines whether enough game time units have passed since a timer was started. It compares the elapsed time against a required duration to determine if an event should trigger.


\begin{DoxyParams}{Parameters}
{\em server} & Pointer to the server structure for timing calculations \\
\hline
{\em start\+\_\+timer\+\_\+units} & Timer units when the timer was started \\
\hline
{\em duration} & Required duration in game time units \\
\hline
{\em timer} & Pointer to the reference timespec timer \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if the duration has elapsed, false otherwise 
\end{DoxyReturn}
