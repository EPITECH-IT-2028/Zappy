<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Zappy: /home/arthur/Tek2/Project/Zappy/server/src/utils_map.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Zappy
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_41e1742e44e2de38b3bc91f993fed282.html">server</a></li><li class="navelem"><a class="el" href="dir_a063914ab482288b7b0e1b2fca86158c.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">utils_map.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="server_8h_source.html">server.h</a>&quot;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for utils_map.c:</div>
<div class="dyncontent">
<div class="center"><img src="utils__map_8c__incl.png" border="0" usemap="#a_2home_2arthur_2Tek2_2Project_2Zappy_2server_2src_2utils__map_8c" alt=""/></div>
<map name="a_2home_2arthur_2Tek2_2Project_2Zappy_2server_2src_2utils__map_8c" id="a_2home_2arthur_2Tek2_2Project_2Zappy_2server_2src_2utils__map_8c">
<area shape="rect" title=" " alt="" coords="532,5,747,45"/>
<area shape="rect" href="server_8h.html" title=" " alt="" coords="554,93,629,119"/>
<area shape="poly" title=" " alt="" coords="630,47,608,83,603,80,625,44"/>
<area shape="rect" title=" " alt="" coords="653,93,724,119"/>
<area shape="poly" title=" " alt="" coords="654,44,676,80,672,83,649,47"/>
<area shape="rect" title=" " alt="" coords="5,167,76,192"/>
<area shape="poly" title=" " alt="" coords="554,113,360,132,228,148,90,169,89,164,227,143,359,127,554,108"/>
<area shape="rect" title=" " alt="" coords="101,167,167,192"/>
<area shape="poly" title=" " alt="" coords="554,114,395,134,181,169,180,164,395,129,553,109"/>
<area shape="rect" title=" " alt="" coords="191,167,290,192"/>
<area shape="poly" title=" " alt="" coords="554,118,304,168,303,163,553,112"/>
<area shape="rect" title=" " alt="" coords="315,167,417,192"/>
<area shape="poly" title=" " alt="" coords="556,121,416,165,415,160,554,116"/>
<area shape="rect" title=" " alt="" coords="442,167,538,192"/>
<area shape="poly" title=" " alt="" coords="577,121,519,161,516,156,574,116"/>
<area shape="rect" title=" " alt="" coords="562,167,621,192"/>
<area shape="poly" title=" " alt="" coords="594,119,594,153,589,153,589,119"/>
<area shape="rect" title=" " alt="" coords="645,167,729,192"/>
<area shape="poly" title=" " alt="" coords="608,117,662,156,659,160,605,121"/>
<area shape="rect" title=" " alt="" coords="754,167,837,192"/>
<area shape="poly" title=" " alt="" coords="625,116,750,160,749,165,623,121"/>
<area shape="rect" title=" " alt="" coords="861,167,925,192"/>
<area shape="poly" title=" " alt="" coords="629,113,848,164,847,169,628,118"/>
<area shape="rect" href="macro_8h.html" title=" " alt="" coords="949,167,1023,192"/>
<area shape="poly" title=" " alt="" coords="629,113,642,116,787,140,935,164,935,169,786,145,642,121,628,119"/>
<area shape="rect" href="inventory_8h.html" title=" " alt="" coords="1048,167,1143,192"/>
<area shape="poly" title=" " alt="" coords="629,114,642,116,750,132,836,141,923,149,1035,164,1034,169,923,155,836,146,750,137,642,121,628,119"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1119cde55d5c2b695090201865e17a07" id="r_a1119cde55d5c2b695090201865e17a07"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils__map_8c.html#a1119cde55d5c2b695090201865e17a07">remove_player_map</a> (<a class="el" href="server_8h.html#ae80c6c8b9f9e5f88c65337bb1cd2eb65">map_t</a> *map, <a class="el" href="server_8h.html#a7bfebc8e763f36d1870198931d6b5eb1">client_t</a> *client)</td></tr>
<tr class="memdesc:a1119cde55d5c2b695090201865e17a07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a player from a map tile.  <br /></td></tr>
<tr class="separator:a1119cde55d5c2b695090201865e17a07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a020b619ee725b90300c2909f92ce2987" id="r_a020b619ee725b90300c2909f92ce2987"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="utils__map_8c.html#a020b619ee725b90300c2909f92ce2987">add_player_map</a> (<a class="el" href="server_8h.html#a0d46b4d18005bd6a95dddba0e65bddf6">server_t</a> *<a class="el" href="server_8c.html#ab140ac62eb02ac9134b3120c0a6829e6">server</a>, <a class="el" href="server_8h.html#ae80c6c8b9f9e5f88c65337bb1cd2eb65">map_t</a> **map, <a class="el" href="server_8h.html#a7bfebc8e763f36d1870198931d6b5eb1">client_t</a> *client)</td></tr>
<tr class="memdesc:a020b619ee725b90300c2909f92ce2987"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a player to the map at their current coordinates.  <br /></td></tr>
<tr class="separator:a020b619ee725b90300c2909f92ce2987"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a020b619ee725b90300c2909f92ce2987" name="a020b619ee725b90300c2909f92ce2987"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a020b619ee725b90300c2909f92ce2987">&#9670;&#160;</a></span>add_player_map()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int add_player_map </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="server_8h.html#a0d46b4d18005bd6a95dddba0e65bddf6">server_t</a> *&#160;</td>
          <td class="paramname"><em>server</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="server_8h.html#ae80c6c8b9f9e5f88c65337bb1cd2eb65">map_t</a> **&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="server_8h.html#a7bfebc8e763f36d1870198931d6b5eb1">client_t</a> *&#160;</td>
          <td class="paramname"><em>client</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a player to the map at their current coordinates. </p>
<p>Add player to map tile.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">server</td><td>Server containing map parameters </td></tr>
    <tr><td class="paramname">map</td><td>2D array of map tiles </td></tr>
    <tr><td class="paramname">client</td><td>Client to be added to the map</td></tr>
  </table>
  </dd>
</dl>
<p>Ensures the client's coordinates are within bounds, then adds them to the appropriate map tile by reallocating the players array and incrementing the player count.</p>
<dl class="section return"><dt>Returns</dt><dd>SUCCESS if the player was successfully added, ERROR on memory allocation failure </dd></dl>

</div>
</div>
<a id="a1119cde55d5c2b695090201865e17a07" name="a1119cde55d5c2b695090201865e17a07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1119cde55d5c2b695090201865e17a07">&#9670;&#160;</a></span>remove_player_map()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int remove_player_map </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="server_8h.html#ae80c6c8b9f9e5f88c65337bb1cd2eb65">map_t</a> *&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="server_8h.html#a7bfebc8e763f36d1870198931d6b5eb1">client_t</a> *&#160;</td>
          <td class="paramname"><em>client</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes a player from a map tile. </p>
<p>Remove player from map tile.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">map</td><td>Pointer to the map tile </td></tr>
    <tr><td class="paramname">client</td><td>Client to be removed</td></tr>
  </table>
  </dd>
</dl>
<p>Finds the player in the tile's player array, removes them by shifting the array, and reallocates memory to reduce the array size. If the tile has no more players, the players array is freed.</p>
<dl class="section return"><dt>Returns</dt><dd>SUCCESS (0) if the player was successfully removed, ERROR on failure </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
